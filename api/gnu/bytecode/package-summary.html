<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Tue Nov 27 13:23:08 CST 2001 -->
<TITLE>
: Package gnu.bytecode
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV PACKAGE&nbsp;
&nbsp;<A HREF="../../gnu/commonlisp/lang/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<H2>
Package gnu.bytecode
</H2>

Contains classes to generate, read,
write, and print Java bytecode (<code>.class</code>) files.
<P>
<B>See: </B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Interface Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="AttrContainer.html"><I>AttrContainer</I></A></B></TD>
<TD>An interface for objects that (may) contain Attribute objects.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="Filter.html"><I>Filter</I></A></B></TD>
<TD>&nbsp;</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Class Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="Access.html">Access</A></B></TD>
<TD>Access flags.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="ArrayClassLoader.html">ArrayClassLoader</A></B></TD>
<TD>Load classes from a set of byte arrays.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="ArrayType.html">ArrayType</A></B></TD>
<TD>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="Attribute.html">Attribute</A></B></TD>
<TD>Represents an Attribute of an AttrContainer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="ClassFileInput.html">ClassFileInput</A></B></TD>
<TD>Class to read a ClassType from a DataInputStream (.class file).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="ClassType.html">ClassType</A></B></TD>
<TD>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="ClassTypeWriter.html">ClassTypeWriter</A></B></TD>
<TD>This class prints out in contents of a ClassType in human-readable form.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="CodeAttr.html">CodeAttr</A></B></TD>
<TD>Represents the contents of a standard "Code" attribute.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="CodeFragment.html">CodeFragment</A></B></TD>
<TD>A sequence of bytecode instructions belonging to a method's Code attribute.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="ConstantPool.html">ConstantPool</A></B></TD>
<TD>Manages a pool of constants, as used in .class files and Java interpreters.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="ConstantValueAttr.html">ConstantValueAttr</A></B></TD>
<TD>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="CpoolClass.html">CpoolClass</A></B></TD>
<TD>A CONSTANT_Class entry in the constant pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="CpoolEntry.html">CpoolEntry</A></B></TD>
<TD>An entry in the constant pool for a ClassType.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="CpoolFloat.html">CpoolFloat</A></B></TD>
<TD>A CONSTANT_Float entry in the constant pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="CpoolNameAndType.html">CpoolNameAndType</A></B></TD>
<TD>A CONSTANT_NameAndType entry in the constant pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="CpoolRef.html">CpoolRef</A></B></TD>
<TD>A CONSTANT_{Field,Method,InterfaceMethod}Ref entry in the constant pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="CpoolString.html">CpoolString</A></B></TD>
<TD>A CONSTANT_String entry in the constant pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="CpoolUtf8.html">CpoolUtf8</A></B></TD>
<TD>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="CpoolValue1.html">CpoolValue1</A></B></TD>
<TD>A CONSTANT_Integer or CONSTANT_Float entry in the constant pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="CpoolValue2.html">CpoolValue2</A></B></TD>
<TD>A CONSTANT_Long or CONSTANT_Double entry in the constant pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="dump.html">dump</A></B></TD>
<TD>Class to read a ClassType from a DataInputStream (.class file).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="ExceptionsAttr.html">ExceptionsAttr</A></B></TD>
<TD>Represents the contents of a standard "Exceptions" attribute.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="Field.html">Field</A></B></TD>
<TD>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="IfState.html">IfState</A></B></TD>
<TD>The state of a conditional expression or statement.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="InnerClassesAttr.html">InnerClassesAttr</A></B></TD>
<TD>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="Label.html">Label</A></B></TD>
<TD>A Label represents a location in a Code attribute.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="LineNumbersAttr.html">LineNumbersAttr</A></B></TD>
<TD>Represents the contents of a standard "LineNumberTable" attribute.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="LocalVarsAttr.html">LocalVarsAttr</A></B></TD>
<TD>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="Location.html">Location</A></B></TD>
<TD>An abstracted "variable", inherited by Field and Variable.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="Method.html">Method</A></B></TD>
<TD>Represents a method in a <code>ClassType</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="MiscAttr.html">MiscAttr</A></B></TD>
<TD>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="ObjectType.html">ObjectType</A></B></TD>
<TD>Semi-abstract class object reference types.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="PrimType.html">PrimType</A></B></TD>
<TD>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="Scope.html">Scope</A></B></TD>
<TD>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="SourceFileAttr.html">SourceFileAttr</A></B></TD>
<TD>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="SwitchState.html">SwitchState</A></B></TD>
<TD>Maintains the state for generating a switch statement.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="TryState.html">TryState</A></B></TD>
<TD>The state of a try statement.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="Type.html">Type</A></B></TD>
<TD>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="VarEnumerator.html">VarEnumerator</A></B></TD>
<TD>Use this Enuemration class to iterate over the Variables in a Scope.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="Variable.html">Variable</A></B></TD>
<TD>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="ZipArchive.html">ZipArchive</A></B></TD>
<TD>A class to manipulate a .zip archive.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="ZipLoader.html">ZipLoader</A></B></TD>
<TD>Load classes from a Zip archive.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="ZipMember.html">ZipMember</A></B></TD>
<TD>Information about one member of a ZipArchive.</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package gnu.bytecode Description
</H2>

<P>
<p>
Contains classes to generate, read,
write, and print Java bytecode (<code>.class</code>) files.
<p>
It is used by
<a href="http:../kawa/">Kawa</a>
to compile Scheme into bytecodes;  it should be useful
for other languages that need to be compiled into Java bytecodes.
(An interesting exercise would be an interactive Java expression evaluator.)
The classes here are relatively low-level.  If you want to use them
to generate bytecode from a high-level language, it is better to
use the <a href="http:../gnu/expr/">gnu.expr</a> package, which works
at the expression level, and handles all the code-generation for you.
<p>
Javadoc generated
<a href="http:../kawa/api/Package-gnu.bytecode.html">documentation</a>
of the class is available online.
<p>
The most important class is <code>ClassType</code>.
This contains information
about a single class.  Note that the difference between <code>ClassType</code>
and <code>java.lang.Class</code> is that the latter only represents existing
classes that have been loaded into the Java VM;  in contrast,
<code>ClassType</code> can be used to build new classes
incrementally and on the fly.
<p>
A <code>ClassType</code> has a list of <code>Field</code> objects;
new ones can be added using
the various <code>addField</code> methods.  A <code>ClassType</code>
manages a <code>ConstantPool</code>.
A <code>ClassType</code> also has a list of <code>Method</code> objects;
new ones can be created by the various <code>addMethod</code> objects.
<p>
A <code>Method</code> contains many methods you can use to generate bytecode.
See Kawa for examples.
<p>
Once you have finished generating a <code>ClassType</code>, you
can write it to a <code>.class</code> file with
the <code>writeToFile</code> method.  You can also make a
byte array suitable for <code>ClassLoader.defineClass</code> using the
<code>writeToArray</code>
method.  This is used by Kawa to compile and immediately load a class.
<p>
You can also print out the contains of a <code>ClassType</code> in
human-readable
form using the class <code>ClassTypeWriter</code>.  This prints a fair bit of
information of the generated class, including
dis-assembling the code of the methods.
<p>
You can also build a <code>ClassType</code> by reading it from an
existing <code>.class</code>
file by using a <code>ClassFileInput</code> class.  This reads the constant
pool, the fields, methods, superclass, and interfaces.
The <code>gnu.bytecode.dump</code> class has a <code>main</code> method
that prints out the information in a named class file.

<h2>Zip archive manager</h2>

To build, extract, list, or print a zip file, you can
use <code>ZipArchive</code> as an application:
<pre>
java gnu.bytecode.ZipArchive [txpq] <var>archive</var> [<var>file</var> ...]
</pre>
See the comments for
<a href="http:../kawa/api/gnu.bytecode.ZipArchive.html#main"
><code>ZipArchive.main</code></a>.
<code>ZipArchive</code> does not do compression or uncompressions, and
it is reported that that some programs do not like the archives it creates.
It is probably best suited for listing and extracting from classes.zip-like
archives.  (This class has been partially re-written to use java.util.zip.
It may get dropped in the future.)

<h2>Class file dumper</h2>
To print out the contents of a class file foo.class, you can use
the class <code>dump</code> as an application:
<pre>
java gnu.bytecode.dump foo.class
</pre>
This will print out the constant pool, fields, methods, superclass,
and implemented interfaces of class <code>foo</code>.
It is useful for printing out detailed information about the constant
pool, which <code>javap</code> does not do.

<h2>License</h2>

See the file <a href="../../COPYING">COPYING</a>.

<h2>Author</h2>

<a href="http://www.bothner.com/~per">Per Bothner</a>
<tt>&lt;<a href="mailto:per@bothner.com">per@bothner.com</a>&gt;</tt>

<h2>How to get it</h2>
The <code>gnu.bytecode</code> package is currently distributed as part of
<a href="http:../kawa/">Kawa</a>, though it can be used independent
of the rest of Kawa.

<h2>Bugs and patches</h2>
Send them to <a href="mailto:per@bothner.com">per@bothner.com</a>,
or to the <a href="mailto:kawa@sourceware.cygnus.com">Kawa mailing list</a>.
<P>
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV PACKAGE&nbsp;
&nbsp;<A HREF="../../gnu/commonlisp/lang/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
