<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Tue Nov 27 13:23:09 CST 2001 -->
<TITLE>
: Package gnu.lists
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../gnu/kawa/xml/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../gnu/mapping/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<H2>
Package gnu.lists
</H2>
Contains utility classes and interfaces for sequences (lists), arrays, and trees.
<P>
<B>See: </B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Interface Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="Array.html"><I>Array</I></A></B></TD>
<TD>General interface to arrays of arbitrary dimension.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="CharSeq.html"><I>CharSeq</I></A></B></TD>
<TD>A sequence where each element is a character.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="Consumable.html"><I>Consumable</I></A></B></TD>
<TD>An object that can send its contents to a Consumer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="Consumer.html"><I>Consumer</I></A></B></TD>
<TD>A Consumer is something that will accept data (output),
 and do something with it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="FormatToConsumer.html"><I>FormatToConsumer</I></A></B></TD>
<TD>An object like a Format, but for writing to a Consumer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="PositionConsumer.html"><I>PositionConsumer</I></A></B></TD>
<TD>An object that can be "fed" a TreePosition, and will do something with it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="PositionContainer.html"><I>PositionContainer</I></A></B></TD>
<TD>An object that contains some number of positions in a Sequence.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="Sequence.html"><I>Sequence</I></A></B></TD>
<TD>A Sequence is an ordered list of elements.</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Class Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="AbstractSequence.html">AbstractSequence</A></B></TD>
<TD>An AbstractSequence is used to implement Sequences, and almost all
 classes that extend AbstractSequence will implement Sequence.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="BitVector.html">BitVector</A></B></TD>
<TD>Simple adjustable-length vector of boolean values.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="CharBuffer.html">CharBuffer</A></B></TD>
<TD>Editable character sequence using a a buffer-gap implementstion and
 self-adjusting position.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="Convert.html">Convert</A></B></TD>
<TD>A class that encapsulates primitive<->Object conversions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="F32Vector.html">F32Vector</A></B></TD>
<TD>Simple adjustable-length vector whose elements are 32-bit floats.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="F64Vector.html">F64Vector</A></B></TD>
<TD>Simple adjustable-length vector whose elements are 64-bit floats.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="FilterConsumer.html">FilterConsumer</A></B></TD>
<TD>A Consumer that wraps some other Consumer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="FString.html">FString</A></B></TD>
<TD>Simple adjustable-length vector whose elements are 32-bit floats.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="FVector.html">FVector</A></B></TD>
<TD>Simple adjustable-length vector whose elements are Object references.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="GapVector.html">GapVector</A></B></TD>
<TD>An array with a gap in the middle, allowing efficient insert and delete.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="GeneralArray.html">GeneralArray</A></B></TD>
<TD>A class to handle general multi-dimensional arrays.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="LList.html">LList</A></B></TD>
<TD>Semi-abstract class for traditions Lisp-style lists.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="Pair.html">Pair</A></B></TD>
<TD>A "pair" object, as used in Lisp-like languages.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="PairWithPosition.html">PairWithPosition</A></B></TD>
<TD>A Pair with the file name and position it was read from.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="S16Vector.html">S16Vector</A></B></TD>
<TD>Simple adjustable-length vector of signed 16-bit integers (shorts).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="S32Vector.html">S32Vector</A></B></TD>
<TD>Simple adjustable-length vector of signed 32-bit integers (ints).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="S64Vector.html">S64Vector</A></B></TD>
<TD>Simple adjustable-length vector of signed 64-bit integers (longs).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="S8Vector.html">S8Vector</A></B></TD>
<TD>Simple adjustable-length vector of signed 8-bit integers (bytes).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="SeqPosition.html">SeqPosition</A></B></TD>
<TD>A position in a sequence (list).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="SimpleVector.html">SimpleVector</A></B></TD>
<TD>A SimpleVector implement as a simple array plus a current size.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="StableVector.html">StableVector</A></B></TD>
<TD>Implements a stable sequence with sticky positions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="Strings.html">Strings</A></B></TD>
<TD>Various static utility methods for general strings (CharSeqs).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="SubSequence.html">SubSequence</A></B></TD>
<TD>A sequence consisting of a sub-range of the elements of a base sequence.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="TreeList.html">TreeList</A></B></TD>
<TD>A compact representation of a tree, that is a nested list structure.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="TreePosition.html">TreePosition</A></B></TD>
<TD>A position that can also go down and up in a tree.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="TreePositionList.html">TreePositionList</A></B></TD>
<TD>A Sequence of values referenced indirectly as tree positions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="U16Vector.html">U16Vector</A></B></TD>
<TD>Simple adjustable-length vector of unsigned 16-bit integers (shorts).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="U32Vector.html">U32Vector</A></B></TD>
<TD>Simple adjustable-length vector of unsigned 32-bit integers (ints).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="U64Vector.html">U64Vector</A></B></TD>
<TD>Simple adjustable-length vector of unsigned 64-bit integers (longs).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="U8Vector.html">U8Vector</A></B></TD>
<TD>Simple adjustable-length vector of unsigned 8-bit integers (bytes).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="VoidConsumer.html">VoidConsumer</A></B></TD>
<TD>A Consumer that does nothing.</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package gnu.lists Description
</H2>

<P>
<p>Contains utility classes and interfaces for sequences (lists), arrays, and trees.</p>
<p>Features:
<ul>
<li>
The classes and interfaces are compatible with the Java2 Collections
framework, but do not rquire them.  A configuration option allows you
to specify whether Sequence extends java.util.List or not.</li>
<li>
Positions in a Sequence and iterators are the same kind of object,
and are represented using magic cookies.  In most collections frameworks,
when you define a new class that implements a sequence, you would
typically define a new iterator class as well.  You never do that
with <code>gnu.lists</code>; instead you implement suitable methods
in the sequence class itself.  This approach may seem strange, but it has
important performance advantages, especially in applications
where you want to go up and down nested sequences (i.e. in trees, such
as XML elements), or remember sets of positions (such as XML node-sets).</li>
<li>
The classes are designed for efficiency, especially concentrating on
minimizing object allocation.</li>
<li>
The framework supports general muli-dimensional arrays.</li>
<li>
The package is self-contained; it does not depend on classes or
features not in JDK 1.1.</li>
<li>
Various useful sequence implementations, including Lisp-style linked
lists; arrays with various element types; adjustable arrays that use a
"buffer-gap" to make insertions and deletions more efficient; and
adjustable arrays that automatically update positions on insertions
and deletions.</li>
<li> The <a href="TreeList.html"><code>TreeList</code></a> class can compactly represent
a nested hetrogenous tree.  One intended usage is as a very efficient
representation for XML data.</li>
<li>
The <a href="Consumer.html"><code>Consumer</code></a> interface is an abstraction of "data sinks" -
objects that can receive data and do something with them.  It is
similar to SAX's DocumentHandler but at a more abstract (and sometimes
more efficient) level.
</ul>

<a id="iteration"><h2>The iteration and position framework</h1>
<p>
A <i>position</i> points <em>between</em> two elements in its "containing"
sequence, or it points before the first element (if any), or after the last.
Sometimes, we loosely say that the position refers to or points to
an element of the sequence; in that case we mean the position is
immediately before the element.
<p>
An <i>iterator</i> is an object that has a current position,
but that can be moved so it gets a new position.
 What needs to be emphasized is that <em>all</em>
<a href="Sequence.html"><ode>Sequence</code></a> implementations.
use the <em>same</em> <a href="SeqPosition.html"><code>SeqPosition</code></a>
class to implement positions and iteration.
In other "collections frameworks" each sequence class has its corresponding
iterator class, but in this framework you instead add the methods
that handle iteration to the sequence class itself, extending
the <a href="AbstractSequence.html"><code>AbstractSequence</code></a> class.
A consequence of this is that if you have an unused
<a href="SeqPosition.html"><code>SeqPosition</code></a> object, you can
use it to iterate over <em>any</em> <code>Sequence</code> you choose.
This potentially saves memory allocation, which gains you the most
when iterating over a nested sequence structure, like a tree of XML data.
<p>
We do this by requiring that any position be representable using a pair
of an <code>int</code> and an <code>Object</code>.
In other words, the state of an iterator is
restricted to be an (<code>int</code>, <code>Object</code>) pair.
Of course that is all you <em>could</em> need, since if you need more
state you can always create a helper object,
and store the extra state there.  The assumption we make though is that for
most <code>Sequence</code>s, an (<code>int</code>, <code>Object</code>)
would be enough, without creating any new objects (beyond,
sometimes, the <code>SeqPosition</code> itself).
<p>
The <code>int</code> part of a position-state is normally
named <code>ipos</code>, and the <code>Object</code> part of a
position-state is named <code>xpos</code>.
Neither of these values have any meaning in themselves, they only have
meaning as interpreted by the specific <code>Sequence</code>.
For example, <code>ipos</code> might be the offset of the position in
the sequence, but it might also some "magic cookie".
If a <code>Sequence</code> supports insertions and deletions,
and you want positions to be automatically adjusted, then a position
<em>has</em> to be a magic cookie rather than an offset.
(A typical implementation is for such a position to be an index
into a table of positions managed by the <code>Sequence</code> itself.) 
So a complete position is actually a (<code>int</code>, <code>Object</code>,
<code>AbstractSequence</code>) triple, where the <code>AbstractSequence</code>
component is the object that interprets the (<code>int</code>,
<code>Object</code>) pair.
Normally, the <code>AbstractSequence</code> part of a position triple is the
<code>Sequence</code> "containing" the position, but it can be any
<code>AbstractSequence</code>
that implements the various methods that provide the semantics
for the (<code>int</code>, <code>Object</code>) pair.
<p>
The  <a href="PositionContainer.html"><code>PositionContainer</code></a>
interface is a more abstract version of <code>SeqPosition</code>, in
that it can represents more than one position.
For example, instead of an array of separately allocated
<code>SeqPosition</code> objects, you might use some data structure
that implements <code>PositionContainer</code>,
which is abstractly a list of (<code>int</code>, <code>Object</code>,
<code>Sequence</code>)-triples.

<h1>The consumer protocol</h1>
<p>
You typically use an iteration framework it process the elements
of a sequence in such a way that the data consumer is active
and in control, while the sequence itself (the data producer) is a
passive object. The <a href="Consumer.html"><code>Consumer</code></a>
works the other way round:  The data producer is active and in control,
while the data consumer is passive, consuming elements when requested
by the data producer.  The <code>Consumer</code> is a more abstract
variant of <a href="http://www.megginson.com/SAX/index.html">SAX</a>'s
<code>ContentHandler</code> interface for processing "events";
however <code>Consumer</code> is intended for general value sequences,
and is less tied to XML.

    <hr>
    <address><a href="mailto:per@bothner.com">Per Bothner</a></address>
<!-- Created: Thu Mar  8 12:32:37 PST 2001 -->
<!-- hhmts start -->
Last modified: Sun Jun 17 10:32:21 CST 2001
<!-- hhmts end -->
<P>
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../gnu/kawa/xml/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../gnu/mapping/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
