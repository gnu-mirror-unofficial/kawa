<HTML>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created on November, 26  2001 by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HEAD>
<TITLE>Kawa, the Java-based Scheme system: Installation</TITLE>

<META NAME="description" CONTENT="Kawa, the Java-based Scheme system: Installation">
<META NAME="keywords" CONTENT="Kawa, the Java-based Scheme system: Installation">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC4"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_3.html#SEC3"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC5"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_3.html#SEC3"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_5.html#SEC13"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_17.html#SEC85">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H1> 3. Building and installing Kawa </H1>
<!--docid::SEC4::-->
<P>

Before installing Kawa, you must have Java working on your
system.
</P><P>

You can compile Kawa from the source distribution.
Alternatively, you can install the pre-compiled binary distribution.
</P><P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="kawa_4.html#SEC5">3.1 Getting and running Java</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP"></TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="kawa_4.html#SEC6">3.2 Installing and using the binary distribution</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP"></TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="kawa_4.html#SEC7">3.3 Installing and using the source distribution</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP"></TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Running Java"></A>
<HR SIZE="6">
<A NAME="SEC5"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC4"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC6"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC4"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC4"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_5.html#SEC13"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_17.html#SEC85">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> 3.1 Getting and running Java </H2>
<!--docid::SEC5::-->
<P>

You will need a working Java system.  Kawa has been reported to
work with JDK 1.1, JDK 1.2, JDK 1.3, Kaffe, Symantec Cafe, J++, and GCJ.
</P><P>

The discussion below assumes you are using the Java Developer's Kit
(JDK) from JavaSoft (Sun).  You can download free copies of
<A HREF="http://java.sun.com/j2se/1.3/">JDK 1.3</A> for various platforms.
</P><P>

If you want to run Kawa on a Macintosh, see
<A HREF="http://home.earthlink.net/%7Eathene/scheme/mackawa.html">http://home.earthlink.net/%7Eathene/scheme/mackawa.html</A>.
</P><P>

The program <CODE>java</CODE> is the Java interpreter.
The program <CODE>javac</CODE> is the Java compiler,
and is needed if you want to compile the source release yourself.
Both programs must be in your <CODE>PATH</CODE>.
If you have the JDK in directory <CODE>$JDK</CODE>,
and you are using a Bourne-shell compatible shell
(/bin/sh, ksh, bash, and some others) you can set <CODE>PATH</CODE> thus:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>PATH=$JDK/bin:$PATH
export PATH
</pre></td></tr></table></P><P>

<A NAME="Binary distribution"></A>
<HR SIZE="6">
<A NAME="SEC6"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC5"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC7"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC4"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC4"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_5.html#SEC13"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_17.html#SEC85">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> 3.2 Installing and using the binary distribution </H2>
<!--docid::SEC6::-->
<P>

The binary release includes only the binary compiled <SAMP>`.class'</SAMP>
versions of the same <SAMP>`.java'</SAMP> source files in the source release.
It does not include any documentation, so you probably want the
source release in addition to the binary release.  The purpose
of the binary release is just to save you time and trouble of
compiling the sources.
</P><P>

The binary release comes as a <CODE>.jar</CODE> archive
<SAMP>`kawa-1.6.97-compiled.jar'</SAMP>.
</P><P>

You can unzip the archive, or you can use it as is.
Assuming the latter, copy the archive to some suitable location,
such as <CODE>/usr/local/lib/kawa-compiled.jar</CODE>.
</P><P>

Then, before you can actually run Kawa, you need to set <CODE>CLASSPATH</CODE>
so it includes the Kawa archive.  On Unix, using a Bourne-style shell:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>CLASSPATH=/usr/local/lib/kawa-compiled.jar
export CLASSPATH
</pre></td></tr></table></P><P>

On Windows95/WindowsNT, you need to set <CODE>classpath</CODE> in a DOS console.
For example:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>set classpath=\kawa\kawa-1.6.97-compiled.jar
</pre></td></tr></table></P><P>

Then to run Kawa do:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>java kawa.repl
</pre></td></tr></table></P><P>

To run Kawa in a fresh window, you can do:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>java kawa.repl -w
</pre></td></tr></table></P><P>

<A NAME="Source distribution"></A>
<HR SIZE="6">
<A NAME="SEC7"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC6"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC8"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC4"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC4"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_5.html#SEC13"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_17.html#SEC85">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H2> 3.3 Installing and using the source distribution </H2>
<!--docid::SEC7::-->
The Kawa release normally comes as a gzip-compressed tar file named
<SAMP>`kawa-1.6.97.tar.gz'</SAMP>.
The same sources are available as a zip file
<SAMP>`kawa-1.6.97-src.zip'</SAMP>.
Two methods are supporting for compiling the Kawa sources;
choose whichever is most convenient for you.
<P>

One method uses the traditional GNU <CODE>configure</CODE> script,
followed by running <CODE>make</CODE>.  This works well on Unix-like
systems, such as GNU/Linux.  It does not work well under
Microsoft Windows. (Even when using the CygWin Unix-emulation
package there are some problems with file paths.)
</P><P>

The other method uses the <CODE>ant</CODE> command, a Java-based
build system released by Apache's Jakarta project.  This uses
an <CODE>build.xml</CODE> file in place of <CODE>Makefile</CODE>s, and
works on non-Unix systems such as Microsoft Windows.  However,
the <CODE>ant</CODE> method is relatively new, and does not support all
the features of the <CODE>configure</CODE>+<CODE>make</CODE> method.
</P><P>

<HR SIZE="6">
<A NAME="SEC8"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC7"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC9"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC4"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC4"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_5.html#SEC13"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_17.html#SEC85">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> 3.3.1 Build Kawa using <CODE>configure</CODE> and <CODE>make</CODE> </H3>
<!--docid::SEC8::-->
<P>

In your build directory do:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>tar xzf kawa-1.6.97.tar.gz
cd kawa-1.6.97
</pre></td></tr></table></P><P>

Then you must configure the sources.  This you can do
the same way you configure most other GNU software.  Normally
you can just run the configure script with no arguments:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>./configure
</pre></td></tr></table></P><P>

This will specify that a later <CODE>make install</CODE> will install the
compiled <SAMP>`.class'</SAMP> files into <CODE>/usr/local/share/java</CODE>.
If you want them
to be installed someplace else, such as <CODE>$PREFIX/share/java</CODE>, then
specify that when you run configure:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>./configure --prefix $PREFIX
</pre></td></tr></table></P><P>

If you have the GNU <SAMP>`readline'</SAMP> library installed, you might try
adding the <SAMP>`--enable-kawa-frontend'</SAMP> flag.  This will build the
<SAMP>`kawa'</SAMP> front-end program, which provides input-line editing
and an input history.  You can get <SAMP>`readline'</SAMP> from archives
of GNU programs, including <A HREF="ftp://www.gnu.org/">ftp://www.gnu.org/</A>.
</P><P>

If you have Swing installed, and want to use JEmacs (Emacs in Java),
also pass the <CODE>--with-swing</CODE> flag to <CODE>configure</CODE>.
</P><P>

If you have installed Kawa before, make sure your <CODE>CLASSPATH</CODE>
does not include old versions of Kawa, or other classes that may
conflict with the new ones.
</P><P>

Thus you need to compile all the .java source files.
Just run make:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>make
</pre></td></tr></table>This assumes that <SAMP>`java'</SAMP> and <SAMP>`javac'</SAMP> are the java interpreter
and compiler, respectively.
For example, if you are using the Kaffe Java interpreter,
you need to instead say:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>make JAVA=kaffe
</pre></td></tr></table></P><P>

You can now test the system by running Kawa in place:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>java kawa.repl
</pre></td></tr></table></P><P>

or you can run the test suite:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>(cd testsuite;  make check)
</pre></td></tr></table></P><P>

or you can install the compiled files:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>make install
</pre></td></tr></table></P><P>

This will install your classes into <CODE>$PREFIX/share/java</CODE> (and its
sub-directories).  Here <CODE>$PREFIX</CODE> is the directory you specified
to configure with the <CODE>--prefix</CODE> option, or <CODE>/usr/local</CODE> if you
did not specify a <CODE>--prefix</CODE> option.
</P><P>

To use the installed files, you need to set <CODE>CLASSPATH</CODE> so
that <CODE>$PREFIX/share/java/kawa.jar</CODE> is in the path:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>CLASSPATH=$PREFIX/share/java/kawa.jar
export CLASSPATH
</pre></td></tr></table>This is done automatically if you use the <SAMP>`kawa'</SAMP> script.
</P><P>

<HR SIZE="6">
<A NAME="SEC9"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC8"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC10"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC10"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC4"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_5.html#SEC13"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_17.html#SEC85">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> 3.3.2 Build Kawa using <CODE>ant</CODE> </H3>
<!--docid::SEC9::-->
<P>

Kawa now includes an Ant buildfile (<CODE>build.xml</CODE>).
<A HREF="http://jakarta.apache.org/ant/">Ant</A> is a part of the Apache
Jakarta project.
If you don't hava Ant installed,
get it from <A HREF="http://jakarta.apache.org/builds/jakarta-ant/release/">http://jakarta.apache.org/builds/jakarta-ant/release/</A>.
The buildfile should work with Ant 1.3, but has only been tested with 1.4.1.
The build is entirely Java based and works equally well on *nix, Windows,
and presumably most any other operating system.
</P><P>

Once Ant has been installed and configured (don't forget to set the
<CODE>JAVA_HOME</CODE>, and <CODE>ANT_HOME</CODE> environment variables), you should
be able to change to the directory containing the <CODE>build.xml</CODE> file,
and invoke the <SAMP>`ant'</SAMP> command.  With the default settings, a
successful build will result in a <CODE>kawa-1.6.97.jar</CODE> in the
current directory
</P><P>

There are a few Ant "targets" of interest (they can be supplied on the
Ant command line):
</P><P>

<DL COMPACT>
<DT><CODE>all</CODE>
<DD>This is the default, it does <CODE>classes</CODE> and <CODE>jar</CODE>.
<DT><CODE>classes</CODE>
<DD>Compiles all the files into <CODE>*.class</CODE> files into the directory
specified by the <CODE>build.dir</CODE> property.
<DT><CODE>jar</CODE>
<DD>Builds a jar into into the directory
specified by the <CODE>dist.dir</CODE> property.
<DT><CODE>runw</CODE>
<DD>Run Kawa in a GUI window.
<DT><CODE>clean</CODE>
<DD>Deletes all files generated by the build, including the jar.
</DL>
<P>

There is not yet a <CODE>test</CODE> target for running the testsuite.
</P><P>

The are various "properties" that control what <CODE>ant</CODE> does.  You can
override the on the command line or by editing the
<CODE>build.properties</CODE> file in the same directory as <CODE>build.xml</CODE>.
For example the <CODE>build.dir</CODE> directory tells <CODE>ant</CODE> where to
build temporary files, and where to leave the resulting <CODE>.jar</CODE>
file.  For example, to leave the generated files in the sub-directory
named <CODE>BUILD</CODE> do:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>ant -Dbuild.dir=BUILD
</pre></td></tr></table>A sample <CODE>build.properties</CODE> is provided and it contains
comments explaining many of the options.
</P><P>

Here are a few general properties that help to customize your build:
<DL COMPACT>
<DT><CODE>build.dir</CODE>
<DD>Path to put the temporary files used for building.
<DT><CODE>dist.dir</CODE>
<DD>Path to put the resulting jar file.
<DT><CODE>version.local</CODE>
<DD>A suffix to add to the version label for your customized version.
<DT><CODE>debug</CODE>
<DD>Whether (true/false) the Javac "-g" option is enabled.
<DT><CODE>optimize</CODE>
<DD>Whether (true/false) the Javac "-O" option is enabled.
</DL>
<P>

Here are some Kawa-specific ones (all <CODE>true</CODE>/<CODE>false</CODE>):
<CODE>with-collections</CODE>, <CODE>with-references</CODE>, <CODE>with-awt</CODE>,
<CODE>with-swing</CODE>, <CODE>enable-jemacs</CODE>, and <CODE>enable-servlet</CODE>&#62;
See the sample <CODE>build.properties</CODE> for more information on these.
</P><P>

If you change any of the build properties, you will generally want to do
an <SAMP>`ant clean'</SAMP> before building again as the build is often not able to
notice that kind of change.  In the case of changing a directory path,
you would want to do the <CODE>clean</CODE> before changing the path.
</P><P>

A special note for NetBeans users:
For some reason the build-tools target which compiles an Ant task won't
compile with the classpath provided by NetBeans.
You may do <SAMP>`ant build-tools'</SAMP> from the command line outside of NetBeans,
in which case you will not want to use the <CODE>clean</CODE> target as that
will delete the tool files as well.
You can use the <CODE>clean-build</CODE> and/or <CODE>clean-dist</CODE>
targets as appropriate.  Alternatively you can add <CODE>ant.jar</CODE> to the
<CODE>build-tools</CODE> classpath by copying or linking it into a <CODE>lib/ext</CODE>
directory in Kawa's source directory (the one containing the <CODE>build.xml</CODE>
file).
</P><P>

<HR SIZE="6">
<A NAME="SEC10"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC9"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC11"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC11"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC4"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_5.html#SEC13"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_17.html#SEC85">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> 3.3.3 Using the Jikes compiler </H3>
<!--docid::SEC10::-->
<P>

<A HREF="http://oss.software.ibm.com/developerworks/opensource/jikes/project/">Jikes</A>
is a Java source-to-bytecode compiler that is much faster than Sun's
<CODE>javac</CODE>.  (Note that this only speeds up building Kawa from source, not
actually running Kawa.)
The instructions for using jikes are as above, except that you
need to specify Jikes at <CODE>configure</CODE> time, setting the <CODE>JAVAC</CODE>
environment variable.  If <CODE>jikes</CODE> is in your execution path, do:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>JAVAC=jikes ./configure
</pre></td></tr></table></P><P>

You also need to inform Jikes where it should find the standard Java classes
(since Jikes is a compiler only).  For example:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>CLASSPATH=.:/opt/jdk1.3/jre/lib/rt.jar
export CLASSPATH
</pre></td></tr></table></P><P>

<HR SIZE="6">
<A NAME="SEC11"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC10"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC12"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC12"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC4"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_5.html#SEC13"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_17.html#SEC85">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> 3.3.4 Compiling Kawa to native code with GCJ </H3>
<!--docid::SEC11::-->
<P>

The GNU Compiler for the Java(tm) Programming Language
(<A HREF="http://gcc.gnu.org/java/">GCJ</A>) is part of the
GNU Compiler Collection (<A HREF="http://gcc.gnu.org/">GCC</A>).
It can compile Java source or bytecode
files into native code on supported systems.  You need gcc-3.0
or later, and only Intel x86-based Linux/GNU system have been tested with Kawa.
</P><P>

First, get and install GCC 3.0.  Set <CODE>PREFIX</CODE> to where
you want to install GCJ, and configure it with these options:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>./configure --enable-threads --enable-languages=c++,java --prefix $PREFIX
make bootstrap
make install
</pre></td></tr></table>Make sure <CODE>gcj</CODE> is in your path and refers to the newly-installed
version, and if needed, set <CODE>LD_LIBRARY_PATH</CODE> to point to the
directory where <CODE>libgcj.so</CODE> was installed:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>PATH=$PREFIX/bin:$PATH
LD_LIBRARY_PATH=$PREFIX/lib
export LD_LIBRARY_PATH
</pre></td></tr></table></P><P>

To build Kawa, you need to specify <CODE>--with-gcj</CODE> to
<CODE>configure</CODE> which tells it to use GCJ.  Currently you also
need to specify <CODE>--without-awt --without-swing</CODE> because
GCJ does not yet support AWT or Swing:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>./configure --with-gcj --without-awt --without-swing --prefix $PREFIX
</pre></td></tr></table>Then as before:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>make
make install
</pre></td></tr></table></P><P>

<HR SIZE="6">
<A NAME="SEC12"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC11"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_5.html#SEC13"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC4"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC4"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_5.html#SEC13"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_17.html#SEC85">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H3> 3.3.5 Building Kawa under Windows </H3>
<!--docid::SEC12::-->
<P>

Using the <CODE>ant</CODE> method is recommended for bulding
Kawa under Microsoft Windows.
</P><P>

The Kawa <CODE>configure</CODE> and <CODE>make</CODE> process assumes a Unix-like
environment.  If you want to build Kawa from source under Windows
(95, 98, or NT), you could use a Unix empulation package, such
as the free <A HREF="http://sources.redhat.com/cygwin/">Cygwin</A>.
However, there are some problems with filenames that make this
more complicated than it should be.  It should be possible
to build Kawa under Cygwin using <CODE>gcj</CODE> as descibed above.
</P><P>

The <CODE>makekawa.bat</CODE> script in the Kawa source distribution can be
used for building Kawa under Windows, but it is no longer being maintained.
</P><P>

<A NAME="Running"></A>
<HR SIZE="6">
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_4.html#SEC4"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_5.html#SEC13"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_17.html#SEC85">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="kawa_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated
by <I>Per Bothner</I> on <I>November, 26  2001</I>
using <A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
